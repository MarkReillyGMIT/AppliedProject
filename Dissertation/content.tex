%!TEX root = project.tex

\chapter*{About this project}
\paragraph{Abstract}

In recent years, the use of weather applications has become increasingly popular as people can receive predicted weather conditions at the click of a button. Increased availability and access to the internet are other factors that contribute to the rise in their popularity. There are a wide variety of weather applications available that provide a consistent and reliable forecast for the customer. However, most of these applications depend solely on application programming interface (API) data and very few integrate both API and machine learning data into one application. Therefore, this project aimed to develop a full-stack weather application that uses both API data and machine learning to predict certain weather conditions. The application was developed using scrum an agile methodology that allowed for complete control over the development phase. ReactJS provided the front-end capabilities along with different libraries. Django provided the back-end functions along with granting access to PostgreSQL. In the application, I was able to meet the majority of the project objectives and provide a working full-stack weather application without an implemented machine learning section for providing weather predictions. Future applications could include machine learning and various other features when time constraints are not an issue. 

\paragraph{Authors}
Mark Reilly

\chapter{Introduction}

\section{Background}
Millions of people around the world regularly acquire information from weather forecasts for several reasons. Increased availability and access to the internet has allowed for a more suitable way for people to retrieve this information. As a result, weather applications have quickly gained popularity.

The weather is always changing which has a big impact on our daily lives, influencing what we choose to do and how we go about our day. The dynamic nature of the weather means that factors such as temperature and precipitation are constantly changing. Due to this, people are very interested in knowing predicted weather conditions to plan and organise events \cite{WeatherontheGo}. With ever-changing weather, it is crucial for weather stations to provide accurate data to allow for more accurate forecasts. 

The equipment used to collect weather data across Ireland varies depending on the four different types of weather stations. These include Manned Weather Stations which record meteorological elements on an hourly basis using a form, as seen in figure \ref{MetForm}, Automatic Weather Stations record meteorological elements on a minute-by-minute basis, Climatological Stations which record data for climate analysis and meteorological research and lastly Rainfall Stations which record daily and monthly rainfall data. As Ireland experiences extremely distributed rainfall, there are over five hundred of these Rainfall stations in Ireland \cite{MET}.

\begin{figure}[h]
\centering
\includegraphics[scale=0.4]{img/MannedWeatherStation.jpg}
\caption{Station weather record form used by meteorological observer at a manned station. }
\label{MetForm}
\end{figure}
Of note, there are several weather instruments used to gather data such as thermometers, anemometers, rain gauges, hygrometers etc. However, since this project is focusing on the prediction of temperature and rainfall values, only thermometers and rain gauges will be discussed.

Thermometers measure the high and low outdoor temperature in degrees Celsius or Fahrenheit. Nowadays, electronic maximum-minimum temperature sensor systems are used, see figure \ref{Thermometer} whereas in the 1800s liquid in glass thermometers were utilised.\cite{WeatherInstruments}

\begin{figure}[h]
\centering
\includegraphics[scale=0.2]{img/MaxMinThermometer.jpg}
\caption{Electronic Thermometer used to collect temperature data.}
\label{Thermometer}
\end{figure}

Rain gauges are used to measure the amount of rainfall. There are two types of rain gauges, the storage rain gauge and the tipping bucket rain gauge, see figure \ref{Gauge}. The latter is more widely used due to it being more automated with less maintenance.\cite{RainGauge}

\begin{figure}[h]
\centering
\includegraphics[scale=0.2]{img/storageRainGauge.jpg}
\includegraphics[scale=0.2]{img/tippingBucketGauge.jpg}
\caption{The Storage Rain Gauge and The Tipping Bucket Rain Gauge}
\label{Gauge}
\end{figure}

\section{Project Objectives}
There are currently multiple weather applications available that give a wide variety of information on weather forecast. However, most of these applications depend solely on application programming interface (API) data and very few integrate both API and machine learning data into one application. Therefore, the aim of this project is to develop a full-stack weather application that uses both API data and machine learning to predict certain weather conditions. 

\section{Web Application Development}
A web application (WA) is a computer program that utilises both web browsers and web technology to perform tasks over the internet. WA development is the creation of application programs that reside on servers and are delivered to the user's device over the internet \cite{WebAppDef}.

WA's use a combination of server-side scripts (Django) to handle the storage and retrieval of data and client-side scripts (ReactJS) to display that data to users \cite{WebApp}. Client-side refers to an application running on a web browser. Client-side programming typically utilizes HTML, CSS and JavaScript combined with a front end framework such as ReactJS. Server-side programming powers the client-side programming and is used to create scripts that enable the web application to have various features. Server-side programming has many different coding languages such as Python, Ruby or Java \cite{WebAppDef}.

Data is exchanged over the network using HyperText Transfer Protocol (HTTP). An advantage of this approach is that the user's do not depend on any specific operating system or hardware configuration. Hence, WA's are cross-platform software. They vary in functionality and design but are set up to serve the same purpose, which is to provide the user with features and accessibility to information.

The application developed would provide consistent weather forecast updates and also be a significant improvement compared with similar websites by allowing access to more premium features from any location. 

\section{History of Machine Learning}
Machine Learning (ML) is a subset of artificial intelligence where computers can self-learn from data and information. ML algorithms automatically build a model of sample data also known as — "training data" — to make decisions without being specifically programmed to make those decisions \cite{MLAlgorithms}.

The first computer learning program was written by Arthur Samuel in 1952. He designed a program that was a game of checkers which used a minimax strategy to decide on the next move. After playing more games it studied which moves made up winning scenarios and incorporated these into the program. The minimax strategy later became known as the "Minimax Algorithm" \cite{MiniMax}.

A few years later, in 1957, Frank Rosenblatt designed "The Perceptron" which was the first neural network for computers. It was designed with the efforts of Donald Hebb's model of brain cell interaction and Arthur Samuel's ML knowledge to simulate the thought process of the brain. In the years 1967 to the early 2000s, there were many developments in the ML area such as the "nearest neighbor" algorithm. It allowed computers to use basic pattern recognition, the concept of Explanation Based Learning in which a computer analyses data and creates a rule to discard unimportant data. ML shifted from a knowledge-driven approach to a data-driven approach, creating programs that could analyze large amounts of data and learn from the results \cite{MLAlgorithmsHistory}.

The late 2000s was when ML started to gain recognition outside of the computer world due to ML featuring in more widely used devices such as The Microsoft Kinect. The Microsoft Kinect allowed users to interact using gestures, facial recognition (for security purposes) and speech recognition. Speech recognition uses a deep learning technique called Long Short-Term Memory (LSTM). A well known example is 'Siri', the virtual assistant used in Apple devices \cite{MLAlgorithmsHistory}.

Present-day ML is also responsible for some of the most important technological advances, such as the emerging self-driving car industry and chat assisted robots. ML models have become increasingly more efficient in continuously learning from training data which in turn makes them more accurate with increased data to learn from. Ml models can be used for a variety of reasons from predicting the weather to predicting stock prices.
\newpage
\section{Scope of Project}
\begin{enumerate}
\item User-friendly web application.
\item Fully functional weather predictions.
\item Consistent forecasts.
\item Login and Register system.
\item About page providing information on the application.
\item Visually pleasing design.
\item Similar features to competitor applications.
\end{enumerate}

\chapter{Context}
\section{Project Objectives}
This section outlines the key objectives for this project.
\begin{itemize}
    \item To provide an aesthetically pleasing user interface (UI).
    \item To provide a reliable weather application.
    \item To provide representational state transfer (REST) API to weather forecasts.
    \item To provide a scalable application.
    \item To provide user security with storage of personal information.
    \item To provide low load times when retrieving information.
\end{itemize}

\section{Weather Application}
In today's modern world, weather applications are becoming increasingly popular and also very important. With easier access to online resources from nearly any location with a mobile phone signal, it has led to a significant rise in the number of people using weather applications. Fortunately, tuning in for the daily/weekly weather reports on the radio/TV at specific times of the day are a thing of the past. The use of weather applications that are supported on any device with a browser has led to a revolution in the way we get the latest weather. Weather applications have a number of advantages such as reliability and convenience but also some disadvantages.

\section{Advantages Weather Applications}
In this section,  the advantages of weather applications will be discussed.

\subsection{Reliability}
There are several advantages to weather applications, the most noteworthy of those is reliability. Advancements in weather data collection in recent years has led to more widely available weather information, which in turn provides weather applications with more reliable forecasts. App users can now see what the weather will be like in the coming week; a weather forecast will provide a very accurate picture of what weather conditions to expect. A seven-day forecast can predict the weather about 80\% of the time, whereas a five-day forecast can predict the weather about 90\% of the time \cite{weatherReliability}. 

\subsection{Competitors}

The rise in various weather applications over the years means that each application needs to be creative and include new features to stand out from competitors. The customer benefits from this competitive nature within these businesses allowing them to have more choice when selecting which application works best for them. 
\subsection{Convenience}
Frequent users of weather applications now only have to open an application on their smart device to gain access to tonnes of weather information. The user can now plan their day/week in advance at any moment rather than having to wait for a certain time in the day when the weather report would be on a radio or TV. The benefit of this convenience is that the user gains more information at the touch of a button and they save time looking for weather forecasts when it is all in one area.

\section{Disadvantages Weather Applications}
Although weather applications display a number of advantages, they also have disadvantages which will be discussed in this chapter.

\subsection{Inaccurate Weather Predictions}

Weather predictions are never 100\% accurate as it is almost impossible to predict the future with certainty. Even if you have a great process in place and employ forecasting experts, your forecasts will never be totally accurate. Some applications will have a high level of volatility depending on which weather data provider they are using. The main drawback of forecasts is that they are almost always inaccurate which leads to a dissatisfied customer.

\subsection{Security}

Storing details in a digital environment is a lot less secure than storing those same details in a non-digital environment. The reason for this is due to that data being stored on a server that is vulnerable to attacks such as SQL Injection - When a perpetrator manipulates a backend database with malicious SQL code, information is revealed. Consequences include the following: unauthorized lists can be viewed, tables can be deleted, and unauthorized administrative functions can be performed \cite{sqlInjection}. Gaining access to such a database on a weather application may hold users' personal details, card details, and address details.

\subsection{Internet Reliance}

An internet connection is a must with the web application for it to load any data. There will be a lack of updated information if internet connectivity is lost during browsing. Web applications cannot run without the internet which makes them redundant in areas with little to no internet. 

\section{Overall Effect Weather Applications}

The overall effect of weather applications has had a resounding impact on the way customers plan ahead. In my opinion, the reliability and convenience of everyday weather applications to the population has had more advantages than disadvantages.
\newpage
\section{Outline of Each Chapter}
Below, I will outline the chapters this dissertation is divided up into and give a brief outline of each one.

\subsection{Introduction}
In Chapter 1, I will give an outline of the overall project and then proceed to discuss the background of the weather. I will then discuss web application development and the history of machine learning to give the reader an understanding of the project.

\subsection{Context}
In Chapter 2, I will discuss the context of my project and how weather applications have changed how we plan our day or even week ahead. I will outline the advantages and disadvantages of weather applications for users.

\subsection{Methodology}
In Chapter 3, I will discuss the methodology I followed and how it affected my project and productivity. I will also discuss how I planned to complete the project and explain the methodologies I utilised in the process. I will discuss why I chose these methodologies and give the reader an insight into how this application was developed. 

\subsection{Technology Review}
In Chapter 4, I will discuss the technical aspects of this project and how each technology impacted the development cycle of this project. I will also discuss why each technology was implemented over other available technologies. Lastly, I will explain the three main technologies chosen for this project in detail and how I utilised each of them to create a Full Stack Weather Application. 

\subsection{System Design}
In Chapter 5, I will explain the architecture and design of the project. I will use graphs, diagrams, and screenshots to help explain the rationale of how the application is designed and how it will operate when deployed. I will discuss various main functions in the code to give an overview of how the main features of the application work.

\subsection{System Evaluation}
In Chapter 6, I will test the software and evaluate whether it is robust and meets all the objectives I have specified. I will highlight any limitations in the approach used and the technologies used.

\subsection{Conclusion}
In Chapter 7, I will outline what I have learned from this project and highlight any findings from the system evaluation chapter. I will outline the skills I gained as a Software Developer from undertaking this project and how working remotely during a global pandemic impacted the development stage of the project. I will also summarise what I would do differently if I was to repeat the project.

\section{Github Structure}

The \href{https://github.com/MarkReillyGMIT/AppliedProject}{Github} resource URL can be found by clicking \href{https://github.com/MarkReillyGMIT/AppliedProject}{Here}. The git repository contains four folders: Dissertation, ReadMeFiles, backend, and front-end. The dissertation folder contains all files related to the development of the dissertation document. The ReadMeFiles folder contains all images that will be displayed on the README. The backend folder contains all the related code for the Django backend and neural network computation. The front-end folder contains all the related code for the ReactJS front-end. There is a requirements.txt file that has all the required libraries necessary for the project to run. The README.md file will contain a brief description of the project and how to run the project. The gitignore file is a text file that tells Git which files or folders to ignore in a project. 


\chapter{Methodology}

\section{Overview of Methodology}

In this project, I took an agile approach to development using the agile methodology. I used sprints to manage my work during the development life-cycle.

\section{Agile}
In this section, I will discuss the agile methodology which was utilised in the development process of this application.

\subsection{What is Agile?}
Agile methodology is a practice that promotes continuous iteration of development and testing throughout the software development life cycle of the project. In the agile model, both development and testing activities are concurrent, unlike the Waterfall model\cite{Agile}. Agile is a term used to describe software development approaches that employ continual planning, learning, improvement, team collaboration, evolutionary development, and early delivery (see Figure \ref{Agile}). It encourages flexible responses to change \cite{Agile}. There are many different agile methodologies to chose from such as Kanban, Scrum, Extreme Programming (XP), Crystal, Dynamic Systems Development Method (DSDM). For the purpose of this project, I will be using Scrum. 

\begin{figure}[h]
\centering
\includegraphics[scale=0.4]{img/agile-development-chart.png}
\caption{Agile Development Lifecycle}
\label{Agile}
\end{figure}


\newpage

\section{What is Scrum?}
Scrum is an agile development method that concentrates specifically on how to manage tasks within a team-based development environment. Basically, Scrum is derived from an activity that occurs during a rugby match \cite{Agile}. Since Scrum is mainly used for team projects, I had to adapt it to suit my needs. It consists of three roles which are as follows:

\begin{itemize}
    \item Scrum Master - responsible for setting up the sprint meetings and removing challenges to progress \cite{Agile}.
    \item Product Owner -  creates the product backlog and is responsible for the delivery of the product. Sharing the vision for the product with the team \cite{Agile}.
    \item Scrum Team - manages its work and organizes its work to finish the sprint of cycle \cite{Agile}.
\end{itemize}

\begin{figure}[h]
\centering
\includegraphics[scale=0.4]{img/scrum.png}
\caption{Scrum Development}
\label{Scrum}
\end{figure}

\subsection{Adapting Scrum}
In this section, I will discuss how I adapted the scrum methodology into my individual project. 

During the project, I dedicated time to planning the project weeks in advance. I used a Gantt Chart to plan and keep track of weekly tasks and milestones. The Gantt chart software that I used was on \href{https://app.clickup.com}{Clickup} which was provided for free. It allowed for tasks and milestones to be added which could then be marked as "Open", "Closed" or "Completed". There were also email notifications available that provided an update on tasks that were soon to be overdue. Unfortunately, there was a lack of free Gantt Chart software readily available online which made it difficult and time-consuming to find a good standard free version. See Figure \ref{Gantt}.

\begin{figure}[h]
\centering
\includegraphics[scale=0.4]{img/GanttChart.PNG}
\caption{Gantt Chart}
\label{Gantt}
\end{figure}

\subsection{Planning Sprints}

I planned my sprints using the tasks on the Gantt chart, each task was added with a certain amount of time depending on the difficulty of the task. Setting reasonable and attainable goals for each week. See Figure \ref{Gantt} to view the variable time lengths that were given to each task.

\subsection{Conduct Weekly Scrums}

I scheduled a time each week to review my previous week's work to identify any successes and pitfalls \cite{Scrum}. I had to then act as the scrum master to find solutions to any problems I may have encountered that week. Referring to my Gantt chart for a visual idea of where I could find the time to fix the problems encountered.

\subsection{Review of Sprint}
At the end of the sprint, I would consider the downsides and upsides of the process. Taking into consideration how closely the results align with the overall vision for the project \cite{Scrum}. 

\section{Test Driven Development}
In this section, I will discuss Test-Driven Development (TDD), what it is and how I incorporated it into the development process.

\subsection{What is Test Driven Development?}
TDD is a software development approach in which test cases are developed to specify and validate what the code will do. In simple terms, test cases for each functionality are created and tested first and if the test fails then the new code is written in order to pass the test and make code simple and bug-free \cite{TDD}. See Figure \ref{TDD}.

\begin{figure}[h]
\centering
\includegraphics[scale=0.5]{img/TDD.png}
\caption{Test Driven Development Cycle}
\label{TDD}
\end{figure}

\subsection{How did I incorporate TDD into the project?}
As I was in the development phase, I applied TDD into the project by writing tests into various parts of the code. I wrote print-out statements to the command line for the backend to analyze the values that were being sent. For the front-end, I wrote tests that could be viewed using the inspect element to analyze the correct data that was being displayed on the web application. I continued to write enough code to make the test pass and then refactored it, repeating this process for each test. 

\section{Git Version Control}
In this section, I will discuss version control and how I managed to develop the project by using Github and Git. I used \href{https://github.com/MarkReillyGMIT/AppliedProject}{Github} to manage all the code and files for the project while using Git to commit any new/updated code to the Github repository. Using Github had many beneficial factors such as file management, project management tools, and online file storage. 

In the project section on Github, I utilised the Kanban board which helped with managing any issues I was facing and keeping track of each issue. Github allows for multiple branches to be created which can be helpful for team projects but in this project, I decided to only use the Master branch as it was an individual project not team-based.

Git version control allowed for the tracking of files and any changes made to each file. This was very beneficial as it allowed me to revert back to a previous working version of the project. 

\section{Time Management}
In this section, I will discuss how I managed my time during the development phase of the project and the issues I faced throughout.

\subsection{Management of Several Projects}
I was able to manage multiple projects simultaneously by using the Gantt chart. It allowed me to set out my weekly tasks and assign different days to various modules. On some occasions, the tasks became tough to complete on time due to an increased workload for other modules at certain times throughout the year. 

\subsection{Issues Experienced Throughout Project}
I faced many issues throughout the project as the workload was immense. Here a list of the top issues faced:

\begin{itemize}
    \item Difficulty in finding a quiet work environment due to college being closed as a result of the SARS-CoV-2 pandemic.
    \item Standard of projects was dropped due to heavy workload.
    \item Slow internet due to location.
    \item COVID-19 illness.
    \item Procrastination. 
\end{itemize}
\newpage


\chapter{Technology Review}
\section{Overview}
In this chapter, I will discuss the technologies used in this project at a conceptual level. I will explain why I used these technologies, how they were implemented and utilised to allow for a fully functional weather application. I will also review each technology I used and show how it gave a different functionality in reaching the final vision of the project. 

\section{ReactJS}
In this section, I will discuss ReactJS, what it is and the features it provides.

\begin{figure}[h]
\centering
\includegraphics[scale=0.2]{img/ReactJS.png}
\caption{ReactJS}
\label{React}
\end{figure}

\subsection{About ReactJS}
ReactJS is a JavaScript library that is deployed to develop reusable user interface (UI) components. ReactJS enables the development of large and complex web-based applications or mobile applications which can change their data without subsequent page refreshes. ReactJS abstracts the Document Object Model (DOM), offering a simple, performing and robust application development experience \cite{aggarwal2018modern}. ReactJS is only concerned with state management and rendering that state to the DOM. Using ReactJS usually requires additional libraries for other functions such as routing.


\subsection{Features of ReactJS}
\paragraph{A) Lightweight DOM For Optimum Performance.}
ReactJS creates a much more efficient and lightweight DOM. In the majority of other web development frameworks, the browser DOM is directly communicated with which results in the entire DOM tree being changed for every piece of data or event happening on each page \cite{aggarwal2018modern}. This adversely affects the performance when there are large amounts of data being processed. 
On the other hand, ReactJS has for every DOM object there is a "virtual DOM object", which is a lightweight copy. The virtual DOM object has the same properties as a real DOM object but it does not have the power to change what is on the screen. Manipulating the DOM is slow but manipulating the virtual DOM is faster as nothing gets written to screen. This results in fast and robust performance of the application.

\paragraph{B) Easy Learning Curve.}
The difference between ReactJS and other JavaScript libraries is that ReactJS enables one to quickly get comfortable with the framework. The learning curve is extremely easy and one gets along without many complications \cite{aggarwal2018modern}. The framework itself is relatively simple to learn unlike other frameworks where you have to learn the concepts of the framework \cite{aggarwal2018modern, islam2017reactjs}. 

\paragraph{C) JSX.}
JSX is a JavaScript Extension Syntax used in ReactJS to easily write HTML and JavaScript together. It is not mandatory to use JSX while developing a ReactJS application but it is recommended because of how easy development is made using it. I have used JSX in this project. See below for an example of JSX code and see figure \ref{JSX} for the output of the below code. Only few lines at the top are used to import some ReactJS APIs. Except for if-else sentences, we wrap every JavaScript expression in curly braces to embed it in JSX. However, conditional statements can be used. Below is the example where conditional expressing is embedded in JSX \cite{JSX}.

\begin{minted}{javascript}
import React from 'react';
import ReactDOM from 'react-dom';
 
let i = 1;
 
const element = <h1>{ (i == 1) ? 'Hello World!' : 'False!' } <h1>;
  
ReactDOM.render(
    element,
    document.getElementById("root")
);

\end{minted}
\begin{figure}[h]
\centering
\includegraphics[scale=0.3]{img/JSX.png}
\caption{JSX}
\label{JSX}
\end{figure}

\paragraph{D) One Way Data Binding}
One way data binding means that when designing an application often the child components are nested within the parent components. This helps components be simple and predictable. One way data flow ensures that data flows throughout the application in a single direction to allow for more control between the states and models in the application \cite{laydeveloping}. If a change is made on the upstream data, the components using that data downstream will re-render and display those changes.  

\begin{figure}[h]
\centering
\includegraphics[scale=0.3]{img/OneWayDataFlow.png}
\caption{One Way Data Binding}
\label{OneWayDataFlow}
\end{figure}
\newpage

\section{Comparing ReactJS and AngularJS}
In this section, I will compare ReactJS and AngularJS to show the differences between each framework and the attributes that influenced my decision into picking ReactJS. 

\begin{center}
\begin{table}[h]
 \begin{tabular}{ |p{3cm}||p{4cm}|p{4cm}|  }
 \hline
 \multicolumn{3}{|c|}{AngularJS V ReactJS} \\
 \hline
 Attribute & AngularJS & ReactJS \\ [0.7ex] 
 \hline
 DOM & Regular DOM & Virtual DOM  \\
 \hline
 Learning Curve & High & Low  \\
 \hline
 Packaging & Weak & Strong  \\
 \hline
 Abstraction & Weak & Strong \\
 \hline
 Rendering & Client side & Server side \\
 \hline
 Community & Large & Growing \\
 \hline
 Binding & Two way & Uni-Directional  \\ [1ex] 
 \hline
\end{tabular}
\caption{\label{tab:comparing}Comparing ReactJS and AngularJS \cite{kumar2016comparative} }
\end{table}
\end{center}

\subsection{Comparison Conclusion}
The stand-out differences that influenced my decision in picking ReactJS were the learning curve, packaging, debugging, and the virtual DOM. I wanted a relatively easy learning curve as all the technologies were new to me in this project. When researching I learned that there are many packages and libraries compatible with ReactJS.

\section{Django}
In this section I will discuss Django, what it is, the features it provides, and compared it with the rails framework.


\begin{figure}[h]
\centering
\includegraphics[scale=0.3]{img/django.png}
\caption{Django Logo}
\label{Django}
\end{figure}

\subsection{About Django}
Django is a high-level open-source Python web framework that encourages rapid agile development. It was released publicly in July 2005. In June 2008, it was announced that a newly formed Django Software Foundation (DSF) would maintain Django for the future \cite{vainikka2018full}. Since Django is a web application framework based on Python, you need Python to use it. Django officially supports PostgreSQL, MySQL, Oracle, and SQLite databases which influenced my decision in choosing Django, which I will later discuss below \cite{ghimire2020comparative}.

Django also loosely applies the Model-View-Controller (MVC) architecture \cite{ghimire2020comparative} but is mainly a Model-Template-View (MTV) framework. When creating a Django application you are given the following files: models.py, views.py, urls.py, and an HTML template. Models.py is the part of the web app which acts as a mediator between the website interface and the database, it contains the business logic in Django Architecture. Views.py contains the UI logic in the Django architecture. Views.py is the UI of the web application in Django but I will be using ReactJS instead for this project. The role of the urls.py is to control which view is shown on the browser, essentially routing for the application.

\subsection{Features of Django}
\label{marker}
\paragraph{A) Security}
 Security \cite{ghimire2020comparative}- This plays an important role in managing and maintaining the end user's information. Its user authentication system provides a secure way to manage user accounts and passwords. There are many types of threats and vulnerabilities on the web, which can target unsecured web applications. Django covers many security issues:
\begin{itemize}
    \item Cross-site scripting (XSS)
    \item SQL injection
    \item Clickjacking
    \item Host header validation
    \item SSL/HTTPS
    \item Cross-site request forgery protection (CSRF)
\end{itemize}


\paragraph{B) Scalability}
Django is an extremely scalable framework that makes it suitable for high-load projects. When working with a variety of technologies such as ReactJS, PostgreSQL, etc., maintaining loading time and performance could be very challenging. It can process data in a limited time, therefore, reducing the loading time. Django ensures error-free output irrespective of the complexity of coding. 

\paragraph{C) Flexibility}

Django web framework includes many features which allow for it to be versatile in functioning independently. It works on using the MVC architecture and logical project structure which may reduce its flexibility. However, it benefits developers by providing solid coding, allowing it to be used with various other technologies. Inbuilt supports are thoroughly tested since it is an open-source framework.

\paragraph{D) Developer Support}
Compared with other open source technologies, it offers the best documentation in the market. Developers do not need to spend hours reading the code to know how the implementation works. Can easily search for any desired function with ease. There are many basic tutorials on the main website for beginners. Following the instructions in the tutorial one can quickly have an application running in no time. 

\section{Comparing Django and Rails}
n this section I will compare Django and Rails to show the differences between each framework and the attributes that influenced my decision into picking Django. 

\subsection{Brief Overview of Flask}
Flask is a Python micro-framework designed to create web applications in a short time. The framework can be used for just the backend as well as the front-end if need be. Only implements core functionality giving developers the flexibility to add the feature as required during the implementation phase \cite{ghimire2020comparative}.

\subsection{Popularity}
Django and flask are python's most popular frameworks, this one of the reasons why I decided to compare the two frameworks. I decided to compare the popularity of the two using their Github stats and active projects. 

At the time of writing this document, Django has 57,200 stars, it's been forked 24,500 times and currently has 2,300 watchers on Github. See Figure \ref{DjangoStats}.

\begin{figure}[h]
\centering
\includegraphics[scale=0.4]{img/djangoStats.PNG}
\caption{Django Stats on Github}
\label{DjangoStats}
\end{figure}

However, Flask has 54,800 stars, its been forked 14,300 times, and currently has 2,300 watchers on Github. See Figure \ref{FlaskStats}.

\begin{figure}[h]
\centering
\includegraphics[scale=0.4]{img/flaskStats.PNG}
\caption{Flask Stats on Github}
\label{FlaskStats}
\end{figure}

Both frameworks have been used in quite many active projects. The well-known projects powered by Django include Pinterest, Eventbrite, and Instagram. Projects that are using Flask include Twilio, Netflix, and Uber. Django is often the main framework used in the applications whereas Flask is often used just for APIs (Pinterest and Twilio).

\subsection{Security}
Django has built-in security against various attack methods such as CSRF, XSS, and SQL injection as mention in Section \ref{marker}. Django team proactively discloses and patches identified security threats \cite{FlaskVDjango}. However, Flask has a much narrower code base leaving less surface area for a strike to happen \cite{FlaskVDjango}. 

\subsection{Packages}
Django is full of built-in packages. This means you will likely find a package to build and run on your application with less effort. Flask, on the other hand, is minimalistic and has no restrictions, meaning developers can design and implement exactly what they want using external libraries. Allowing Flask to be flexible and scalable when programming your project. 
\subsection{Comparison Conclusion}
The stand-out difference that influenced my decision in picking Django over Flask was how popular it was, meaning there would be more documentation and real-world examples. The other reason was security as I felt it was necessary to have a high level of security when the application is collecting end user's names and passwords.

\section{Database}
In this section, I will discuss the database used in my project, what it is, the features it provides, and compare it with another database.

\begin{figure}[h]
\centering
\includegraphics[scale=0.4]{img/postgreSQL.jpg}
\caption{PostgreSQL Logo}
\label{PostgreSQL}
\end{figure}

\subsection{About PostgreSQL}
PostgreSQL is a free open-source object-relational database management system. It extends the SQL language combined with many features that safely store and scale the most complicated data workloads \cite{vainikka2018full}. Postgre originated back in 1986 as part of the Postgres project at the University of Berkeley but then ten years later changed its name to PostgreSQL to reflect its SQL support. PostgreSQL includes a number of features aimed at assisting developers in the development of applications, administrators in the protection of data integrity and the creation of fault-tolerant environments, and you in the management of your data, regardless of its size \cite{PostgreSQL}. PostgreSQL has earned a strong reputation for its proven architecture, reliability, data integrity, robust feature set, extensibility, and the dedication of the open source community behind the software to consistently deliver performing and innovative solutions \cite{PostgreSQL}. PostgreSQL features transaction with  Atomicity, Consistency, Isolation, Durability (ACID) properties which I will discuss in further detail in the below section. PostgreSQL been ACID compliant since 2001 .

\subsection{Features of PostgreSQL}

\paragraph{A) Ease of Use}
With its complete stack of RDBMS database features and capabilities, PostgreSQL is an easy-to-use database that can manage both structured and unstructured data. On Linux-type settings, yum or source code from the PostgreSQL website can be used to conveniently install the database. When you install from source code, you have a lot of power over the installation. 

\paragraph{B) Supported Data Types}
PostgreSQL supports not only standard SQL data types (such as Numeric, Strings, Date, Decimal, and so on), but also unstructured data types (such as JSON, XML, and HSTORE), as well as network data types, bit strings, and so on \cite{PostgreFeatures}. 

PostgreSQL is distinguished by its support for a broader variety of data types for storing and processing spatial data, including ARRAYs, NETWORK types, and Geometric data types (including specialized spatial data functions). Here is a list of data types that are supported. An additional module called PostGIS, which is an open-source extension, provides support for spatial data types and functions \cite{PostgreFeatures}.

\paragraph{C) Storage}
Any database's ability to store data is crucial. PostgreSQL offers a variety of data storage options. Storing data entails putting physical database objects on a disk, such as Tables and Indexes \cite{PostgreFeatures}.

Tablespaces are a popular storage function in PostgreSQL that can hold physical objects such as Tables, Indexes, and Materialized Views. Tablespaces allow objects to be clustered and stored across several physical locations, allowing for more efficient I/O distribution. PostgreSQL currently does not support pluggable storage engines, although this is planned to change in the future \cite{PostgreFeatures}.

\paragraph{D) Security}
Database protection is critical in preventing unauthorized access to data. Secured access is enforced in the database at different levels, including the object and relation levels \cite{PostgreFeatures}.

GRANT commands in PostgreSQL grant access to database objects and data based on ROLES and PRIVILEGES. Connection authentication is handled in a more straightforward manner, with a pg hba.conf authentication file containing a list of IP addresses, as well as the username and access form. This is much more dependable and straightforward \cite{PostgreFeatures}.
    
\section{Architecture}
This section will describe the architecture of the application.

\subsection{REpresentational State Transfer (REST)}
REST, or REpresentational State Transfer, is an architectural style for establishing standards between web-based computer systems, allowing them to interact more easily. REST-compliant systems, also known as RESTful systems, are distinguished by their statelessness and separation of client and server issues \cite{RESTAbout}. REST defines 6 architectural constraints which make any web service – a true RESTful API \cite{REST}.

\paragraph{1) Uniform Interface}
You MUST determine API interfaces for resources within the framework that are exposed to API consumers and obey them diligently, as the constraint name implies. A resource in the system should only have one logical URI, which should allow for the retrieval of related or additional data. It's often easier to use a web page as a synonym for a resource \cite{REST}.

Throughout the scheme, resource representations should adhere to strict guidelines such as naming conventions, connection formats, and data formats (XML or/and JSON). All resources should be accessible using a common method, such as HTTP GET, and updated using that technique.

\paragraph{2) Client-server}
This constraint simply implies that the client application and the server application must be able to develop independently of one another. Only resource URIs should be known by the client. This is now common practice in web production, so you won't have to do something special \cite{REST}.

\paragraph{3) Stateless}
Any client-server interaction should be stateless. The server will not keep track of the client's most recent HTTP request. Every request will be treated as though it were a new one. There is no session, and there is no past.

If the client application is required to be a stateful application for the end-user, where the user logs in once and only performs other approved operations, then each client request should provide all of the information required to service the request, including authentication and authorization details \cite{REST}.
\paragraph{4) Cacheable}
The importance of caching data and responses is critical wherever they are applicable/possible. Since the load is reduced, caching improves client-side performance and gives a server more scalability options. When caching is used in REST, it must be applied to resources that are cacheable, and these resources must declare themselves cacheable. Caching can be done on the server or on the client \cite{REST}.
\paragraph{5) Layered system}
REST enables you to use a layered system architecture, such as deploying APIs on server A, storing data on server B, and authenticating requests on server C. Normally, a client cannot say if it is linked directly to the end server or via an intermediary \cite{REST}.
\paragraph{6) Code on demand}
This restriction, on the other hand, is optional. The majority of the time, you'll be submitting static resource representations in the form of XML or JSON. However, if you need to return executable code to support a part of your application, you can do so. For example, clients can call your API to get UI widget rendering code \cite{REST}.


\section{APIs}

This section will describe the various APIs in the application that were used to power different features. Each API will be discussed in detail below.

\subsection{Open Weather}
The Open Weather API allows for free API calls on certain data. It is an integral part of the project as this is were the majority of the weather data came from to support the displaying of this data on the front-end. They provide essential weather parameters such as temperature, precipitation, probability of precipitation, humidity, feels like, pressure, cloudiness, wind, etc. 
\subsection{React Leaflet}
The \href{https://react-leaflet.js.org/docs/start-introduction}{React Leaflet} API allow for the feature of a interactive map to be displayed. React Leaflet allowed for bindings between React and Leaflet. \href{https://leafletjs.com/}{Leaflet} was created with ease of use, efficiency, and functionality in mind. It runs smoothly on all major desktop and mobile platforms, can be extended with a large number of plugins, and has an elegant, well-documented API as well as easy, readable source code.

\section{Libraries}
This section will describe the various React and JavaScript libraries used in the development process of the application. These libraries allowed for enhanced features and enjoyment for the end user's. 

\subsection{Scikit-Learn}
Scikit-learn is perhaps Python's most useful machine learning library. Classification, regression, clustering, and dimensionality reduction are only a few of the useful methods in the sklearn library for machine learning and statistical modeling. Scikit-learn allowed for the backend to perform machine learning tasks in the application.

\subsection{Pandas}
Pandas is a data manipulation and analysis software library for the Python programming language. It includes data structures and operations for manipulating numerical tables and time series, in particular. Pandas allowed for data manipulation of historical weather data sets \cite{Pandas}. 

\subsection{Psycopg2-Binary}
The most widely used PostgreSQL database adapter for the Python programming language is Psycopg. The full implementation of the Python DB API 2.0 specification, as well as thread protection, are its key features (several threads can share the same connection). It was created for multi-threaded applications that generate and kill a large number of cursors and render a large number of concurrent "INSERT"s or "SELECT"s \cite{psycopg2Binary}.
\subsection{Django REST Framework}
The Django REST framework is a strong and adaptable framework for creating Web APIs. This library helped incorporate RESTful APIs into the application.There are many advantages that come from using it such as:

\begin{itemize}
    \item Authentication rules including packages for OAuth1a and OAuth2.
    \item ORM and non-ORM data sources are enabled by serialization.
    \item There is a lot of documentation and a lot of mutual cooperation.
    \item Mozilla, Red Hat, Heroku, and Eventbrite are only a few of the well-known businesses that use and trust it.
\end{itemize}

\subsection{Axios}
Axios is a very popular JavaScript library you can use to perform HTTP requests, that works in both Browser and Node.js platforms \cite{Axios}. Axios allowed there to be another form of RESTful API creation in the application. There are many advantages that come from using it such as:
\begin{itemize}
    \item Has a way to cancel a request.
    \item Has CSRF security.
    \item Supports upload progress.
    \item Automates the transformation of JSON data.
\end{itemize}

\subsection{Create-React-App}
The create-react-app library for React projects configures your development environment to allow you to use the most recent JavaScript features while still providing a pleasant developer experience. It is as simple as running "create-react-app 'name of project' " on your preferred Command Line Interface (CLI).

\section{Languages}
This section will describe the languages utilised in the application and why each language was used.

\subsection{JavaScript}
JavaScript (JS) is a lightweight, interpreted, compiled programming language with first-class functions \cite{JS}. JavaScript is a client-side scripting language that can be used to design and program how web pages respond when an event occurs. JavaScript is a scripting language that is both simple to learn and efficient, and it is widely used to monitor the actions of web pages.

The project utilised JavaScript for performing various functions that are expected from a weather application such as: checking for GET/POST requests, functionally behind UI components, displaying data from APIs, etc. 

Here is an example of some JavaScript code:
\begin{minted}{JavaScript}
const number1 = 2;
const number2 = 2;

// add number1 and number2
const sum = number1 + number2;

// display the sum
console.log('The answer is: ' + sum);
\end{minted}

\subsection{Python}
Python is an interpreted, object-oriented, high-level programming language with dynamic semantics \cite{Python}. Its high-level built-in data structures, combined with dynamic typing and dynamic binding, make it ideal for Rapid Application Development and as a scripting or glue language for connecting existing components. Python's plain, easy-to-learn syntax emphasizes readability, which lowers software maintenance costs. Modules and packages are supported by Python, which facilitates software modularity and code reuse \cite{Python}. Python was a main element in this project as Django and the machine learning was programmed in Python. 

Here is a simple example of some Python code using an imported module:

\begin{minted}{Python}
# Generating a random number between 0-9

# importing the random module
import random
print(random.randint(0,9))
\end{minted}

\subsection{Hyper-Text Markup Language (HTML)}
HTML is a markup language for documents that are intended to be viewed in a web browser. Technologies such as Cascading Style Sheets (CSS) and scripting languages like JavaScript may help. HTML was used in the project to render the HTML files on the web browser using HTML elements.

Here is an example of code for a HTML web page:

\begin{minted}{HTML}
<!DOCTYPE html>
<html>
<body>
<!-- Displays using the HTML Header Tag -->
<h1> Web Page </h1>

<!-- Displays using the HTML Paragraph Tag -->
<p> Paragraph Tag </p>

</body>
</html>
\end{minted}

\section{Styles}
This section will describe the various styles used in the applications UI to provide the end user with an ascetically pleasing visual.

\subsection{React Bootstrap}

The Bootstrap JavaScript is replaced by React-Bootstrap. Each component was created from the ground up as a true React component, with no unnecessary dependencies such as jQuery.
React-Bootstrap, as one of the first React libraries, has developed and grown alongside React, making it an excellent option for the project's UI base \cite{ReactBootstrap}. In this project React Bootstrap allowed for more control over the function of each component. 

\subsection{Cascading Style Sheets (CSS)}

Cascading Style Sheets (CSS) is a term for defining the appearance of a document written in a markup language like HTML. Along with HTML and JavaScript, CSS is a key component of the World Wide Web. CSS allowed for more control over the styling of my HTML pages.

\begin{minted}{CSS}
// Turns background color of body tag to red.
body {
  background-color: red;
}
// Turns color of h1 tags blue and aligns them to the left.
h1 {
  color: blue;
  text-align: left;
}
// Changes the font to times new roman and size 10px of all p tags.
p {
  font-family: times new roman;
  font-size: 10px;
}
\end{minted}


\section{Documentation}
This section will describe the type of documentation used to develop the dissertation element of the project. 

\subsection{Latex}
LaTeX is a high-quality typesetting system with features specifically designed for technical and scientific documentation. LaTeX is the de facto standard for scientific document correspondence and dissemination \cite{Latex}. Having used Latex for documentation purposes for other projects throughout college, it was an obvious decision in picking Latex over Word. 

Reasoning behind picking Latex was due to it providing a quality layout from the start, managing references using a bibliography, completely free and many free packages that can provide various different features to the paper.

\chapter{System Design}
This section will describe the applications architecture both in terms of Front-end and Back-end. It will also describe component individually and the rationale for its nature. It will also go into detail about how the Front-end and Back-end communicate and how the application was designed with a heavy emphasis on user experience. There will also be reasoning for  the machine learning not being implement fully in the application and the complications encountered during development. 

\section{System Overview}
The application was created utilizing ReactJS, a web application platform for creating user interfaces and Django for managing the back-end functionality. For the purpose of the application, the use of creating a SPA (Single Page Application), offered a number of advantages over a regular web application, which I will mention below:

\begin{itemize}
    \item Quick Loading Time - Since it only has to load a page on the first request, it loads faster than conventional web applications. Conventional web apps, on the other hand, must load pages for each request, which adds time to the process.
    \item High Quality User Experience - They have a similar interface to a desktop or mobile app. Users do not have to wait for a new page to load because only the material, not the page, shifts, making the experience more pleasant.
    \item Less Bandwidth Usage - Since SPAs only load web pages once, it's no mystery that they use less bandwidth. Aside from that, they will perform well in places where the internet connection is slow. As a result, it is accessible to all, regardless of internet speed.
    \item Easily Build Feature-Rich Apps - Adding advanced functionality to a web application is simple with an SPA application. SPA creation, for example, makes it easier to create a content editing web app with real-time analysis. When using a conventional web app, performing content analysis necessitates a complete page reload.
\end{itemize}

\section{Front-end Architecture}
This section will describe the front-end architecture of the project, listing all components and describe their features as well as why they were built in thorough detail. The subsections that follow will explain the structure of each element, as well as its function and the code that was used to implement it.

\subsection{Searching Location}
The main feature of any weather application is being able to have the ability to search your local area for the latest weather forecast. This feature is made very prominent on the application as it is one of the main features. The user will be greeted with an ascetically pleasing Home Page ( See Figure \ref{HomePage}). The search bar component is located in the middle of the home page as this was the most convenient location due to it being easy and quick access for the end-user to find. There is a placeholder on the search bar saying "Enter City", which clearly indicates to the end-user that they can enter a cities name and a weather forecast will be returned.

\begin{figure}[h]
\centering
\includegraphics[scale=0.3]{img/HomePage.PNG}
\caption{Image of Home Page}
\label{HomePage}
\end{figure}

\newpage

The following code is how the search bar was developed:

\begin{minted}{JavaScript}
// SearchCity.js    

import React from 'react';
import styled from 'styled-components';
import PropTypes from 'prop-types';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faSearch } from '@fortawesome/free-solid-svg-icons';

/**
 * This class is used to style, create and export
 * the Search bar component located on the home
 * page.
 */

// Styling of search bar.
const SearchBar = styled.form`
  top: \${({ showResult }) => (showResult ? '0\%' : '30\%')};
  position: relative;
  margin: 0 auto;
  max-width: 500px;
  transition: 0.8s 0.5s;
`;

const SearchInput = styled.input`
  width: 100\%;
  border: none;
  background-color: #ffffff;
  font-size: 16px;
  padding: 10px 15px 10px 40px;
  color: #c5c5c5;
  transition: 0.2s;
  border-radius: 20px;
  box-shadow: 0 4px 6px -1px 
  rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  &:focus {
    color: #191919;
    box-shadow: 0 10px 15px -3px 
    rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    outline: none;
  }
`;

const SearchIcon = styled.span`
  display: block;
  position: absolute;
  top: 50\%;
  left: 22px;
  transform: translate(-50\%, -50\%);
  height: 14px;
  width: 14px;
  font-size: 14px;
  color: #c5c5c5;
`;

const SearchCity = ({ submit, value, change, showResult }) => {
return (
<>
  <SearchBar showResult={showResult} onSubmit={submit}>
    <SearchInput type="text" value={value} placeholder="Enter city" 
    onChange={change} />
    <SearchIcon>
      <FontAwesomeIcon icon={faSearch} />
    </SearchIcon>
  </SearchBar>
</>
);
};

SearchCity.propTypes = {
  submit: PropTypes.func.isRequired,
  value: PropTypes.string.isRequired,
  change: PropTypes.func.isRequired,
  showResult: PropTypes.bool.isRequired,
};

export default SearchCity;

\end{minted}

Once the user enters the city of their choice and clicks enter, that city name is turned into a search parameter which is used for a POST to the backend Django. Which then sends a request to the REST API that is provided by Open Weather. This is done using Django REST Framework which will be discussed in Section \ref{BackEnd}.
The code below is showing how the POST request is sent to the Django REST Framework:

\begin{minted}{JavaScript}
handleSearchCity = e => {
e.preventDefault();
const { value } = this.state;
let formData = new FormData();
formData.append('city', value);
// Simple POST request with a JSON body using fetch
const weather = 'http://127.0.0.1:8000/api/';
const forecast = 'http://127.0.0.1:8000/forecast/';
const requestOptions = {
    method: 'POST',
    headers: { 'X-CSRFToken': '3gUDIWxG6ddBHV5om0TpmWVs4HMLrsLX3L6
    nly2hc9cccgtrs9eZFJKk6jBAbdNO' },
    body: formData
};
Promise.all([fetch(weather, requestOptions), fetch(forecast, requestOptions)])
  .then(([res1, res2]) => {
    if (res1.ok && res2.ok) {
      return Promise.all([res1.json(), res2.json()]);
    }
    throw Error(res1.statusText, res2.statusText);
  })
}
\end{minted}

After this a GET Request is sent to retrieve the JSON data about the selected city. The code below shows how this is accomplished:

\begin{minted}{JavaScript}
// getDataApi.js
import axios from 'axios'

/**
 * The following class sends a get request using axios
 * to open weather for weather data based on the city 
 * param passed to it.
 * @param {city} QUERY 
 * @returns JSON weather data for the city.
 */
 
export const getDataApi = async (QUERY = [{ key: 'q', value: 'galway' }]) => {
  const URL_BASE = `https://api.openweathermap.org/data/
  2.5/weather?appid=4c877f2673f01a25cab9395e71356dad&units=metric`
  const PARAMS = QUERY.reduce((acum, elem) =>
  
  `\${acum}\${elem?.key && elem?.value ? `\&\${elem.key}=
  \${elem.value}` : ''}`, '')
  return axios.get(`\${URL_BASE}\${PARAMS}`)
}
\end{minted}

\newpage
Once the get request has received the JSON it is then manipulated and displayed as readable weather data, as shown in Figure \ref{Search}.

\begin{figure}[h]
\centering
\includegraphics[scale=0.4]{img/Searching.PNG}
\caption{Results of Search}
\label{Search}
\end{figure}

\subsection{Navigation Bar}
One of the most if not the most important features to any web application is an easily usable navigational bar (Navbar for short). After a lot of testing with different types of Navbars in this application the decision was made to have a transparent background for visual reasons. The Navbar consists of the title of the application to the top left, a "Home", "Radar", "Machine Learning" and "About" links all to the top right. The Navbar element was made easy to design due to React Bootstrap library. The following code will show the Navbar class and how it was designed:

\begin{minted}{JavaScript}
import React, { Component } from "react";
import { Navbar, Nav, NavItem} from 'react-bootstrap';
import { Link } from 'react-router-dom';
import '../../App.css'

/**
 * This class is to develop the Navbar using react bootstrap.
 */

class NavBar extends Component {
render() {
  return (

    <Navbar crolling dark expand="md" fixed="top">
    <Navbar.Brand className="color-title" as={Link} to="/Home">Precise Weather</Navbar.Brand>
    <Navbar.Toggle aria-controls="basic-navbar-nav" />
    <Navbar.Collapse id="basic-navbar-nav">
        <Nav fill className="ml-auto">
        <NavItem className="text-color" as={Link} to="/Home">Home</NavItem>
        <NavItem className="text-color" as={Link} to="/Radar">Radar</NavItem>
        <NavItem className="text-color" eventKey="disabled" disabled>Machine Learning</NavItem>
        <NavItem className="text-color" as={Link} to="/About">About</NavItem>
        </Nav>
    </Navbar.Collapse>
    </Navbar>);
        
    }
}

export default NavBar;
\end{minted}

\subsection{Radar}

The Radar component is accessible by selecting the "Radar" link on the Navbar from any page on the application. The Radar component features many different elements which make it the most interesting part of the application. The user can use the cursor and toggle the zoom in/out buttons on the map to find a location of interest. Clicking on the map will prompt the application to get the latitude and longitude coordinates of the selected position. The coordinates are then send in a GET Request to open weather API which then returns the name, temperature, feel like temperature, minimum temperature, maximum temperature, pressure and humidity. The React Leaflet library helped with developing the map and being able to click on the map. See Figure \ref{Radar} using Galway as an example.

\begin{figure}[h]
\centering
\includegraphics[scale=0.4]{img/Radar.PNG}
\caption{Radar Component}
\label{Radar}
\end{figure}

\newpage
The following code shows how the map was developed using the help of the React Leaflet library:

\begin{minted}{JavaScript}
import React, { Component, useState, useCallback, useMemo,
useRef} from "react";
import {TileLayer, Popup, Marker, 
MapContainer, useMapEvents} from "react-leaflet";
import 'leaflet/dist/leaflet.css';
import '../App.css';
import marker from '../assets/placeholder.png';
import L, { latLng } from 'leaflet';

/**
 * This class developed the Map using React Leaflet.
 */

const myIcon = new L.Icon({
  iconUrl: marker,
  iconRetinaUrl: marker,
  popupAnchor:  [-0, -0],
  iconSize: [32,35],     
});


export const MapComponent = ({ onClickPosition }) => {
  
  function LocationMarker() {
    const [position, setPosition] = useState(null)
    const map = useMapEvents({
      click(e) {
        setPosition(e.latlng)
        map.flyTo(e.latlng, map.getZoom())
        onClickPosition(e.latlng)
        //map.locate()
        
      },
      locationfound(e) {
        setPosition(e.latlng)
        console.log(e.latlng)
        map.flyTo(e.latlng, map.getZoom())
      },
    })
  
    return position === null ? null : (
      <Marker position={position} icon={myIcon}>
        <Popup>You are here</Popup>
      </Marker>
    )
  }
  
  return (
    <div>
      <MapContainer className="map" center={[53.275,-9.0494]} zoom={13} scrollWheelZoom={true}>
        <TileLayer
          attribution='&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
          url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"
        />
        <LocationMarker />
      </MapContainer>
    </div>
  )
}
\end{minted}

\section{Back-end Architecture}
\label{BackEnd}
Back-end architecture is associated with the logical aspects of the application, such as paths, database connectivity, and defining the application's internal logic. This section will explain how  the Back-end Architecture is created, all the components and how they all combined together to provide a bunch of functions for different components.

\subsection{Django REST Framework}
Django REST Framework serializes data form the Django Object-Relational Mapping (ORM). It was utilised on the Back-end to retrieve data for the Front-end from the Open Weather API. It was very helpful with passing data from Back-end to Front-end. The following code shows how the POST request is sent to the Open Weather API service:

\begin{minted}{Python}
from django.http import response
from django.http.response import JsonResponse
from django.shortcuts import render 
# import json to load json data to python dictionary 
import json 
# urllib.request to make a request to api 
import urllib.request 
from django.views.decorators.csrf import csrf_exempt

# This class is used to send a POST request to the Open Weather API. 

@csrf_exempt 
def weather(request): 
if request.method == 'POST': 
    city = request.POST['city']
    print(type(city))
    print("City" +city)
    
    # source contain JSON data from API 
    apiKey = '4c877f2673f01a25cab9395e71356dad'
    weather = 'https://api.openweathermap.org/data/2.5/weather?q='+ city
    +'&APPID='+apiKey+'&units=metric'

    sourceForecast = urllib.request.urlopen(weather).read() 

    # converting JSON data to a dictionary 
    list_of_data = json.loads(sourceForecast) 

    # data for variable list_of_data 
    data = {} 
    return JsonResponse(list_of_data)
else: 
    data ={} 

return JsonResponse(data)

@csrf_exempt 
def forecast(request): 
if request.method == 'POST': 
    city = request.POST['city']
    #Testing
    #print(type(city))
    #print("City" +city)
    
    # source contain JSON data from API 
    apiKey = '4c877f2673f01a25cab9395e71356dad'
    forecast = 'https://api.openweathermap.org/data/2.5/forecast?q='+ city 
    +'&APPID='+apiKey+'&units=metric'

    sourceForecast = urllib.request.urlopen(forecast).read() 

    # converting JSON data to a dictionary 
    list_of_data = json.loads(sourceForecast) 

    # data for variable list_of_data 
    data = { } 
    return JsonResponse(list_of_data)
else: 
    data ={} 

return JsonResponse(data)
\end{minted}

\subsection{Data Manipulation}
Data manipulation is a key first step to machine learning as you need to know exactly what type of data your machine learning algorithm is consuming. Data manipulation was done using the testing.py file and using a Jupyter Notebook - The Jupyter Notebook is an open-source web application that allows you to create and share documents that contain live code, equations, visualizations and narrative text. Uses include: data cleaning and transformation, numerical simulation, statistical modeling, data visualization, machine learning, and much more \cite{JNotebook}. Jupyter Notebook was used due to machine learning packages being quite large so it made it much more efficient to use, than being directly install on a virtual environment. The following is the code from Jupyter Notebook that is manipulating a weather data set so that it fits the model:

\begin{minted}{Python}
\%matplotlib inline
import matplotlib.pyplot as plt
import numpy as np
import pandas as pd

#Reading the dataset 
dataset = pd.read_csv('./dly1875.csv')
dataset 

#Displaying columns in dataset
print("Column names:")
for col in dataset.columns:    
    print(col)
    
#Dropping the unnesscary columns in the dataset
dataset = dataset.drop(columns=['date','ind','ind.1','ind.2',
'ind.3','ind.4','ind.5','igmin','gmin','hg',])
dataset

#Moving rain column to the end of dataset
cols_at_end = ['rain']
dataset = dataset[[c for c in dataset if c not in cols_at_end] 
        + [c for c in cols_at_end if c in dataset]]
dataset

#Save the cleaned dataset 
dataset.to_csv('Athenry2010-2021.csv')

\end{minted}

\subsection{Machine Learning}
The machine learning part of the Back-end attempted to get the next day prediction of the level of rainfall for the above manipulated data set. The following code will show the attempt in getting this to work using the Linear Regression model:

\begin{minted}{Python}
#Importing the required libaries
import pandas as pd
import numpy as np
import sklearn as sk
from sklearn import datasets, linear_model
from sklearn.linear_model import LinearRegression as lm
from sklearn.model_selection import train_test_split
import matplotlib.pyplot as plt

# Read the cleaned data
data = pd.read_csv("./Athenry2010-2021.csv")

data =data[data['cbl'].str.strip().astype(bool)]

y=data.rain
x=data.drop('rain',axis=1)

x_train,x_test,y_train,y_test=train_test_split(x,y,test_size=0.2)

x_train.head()

x_train.shape

x_test.head()

x_test.shape

model=lm().fit(x_train,y_train)
predictions=model.predict(x_test)

day_index = 798
days = [i for i in range(Y.size)]

from sklearn.metrics import mean_absolute_error, median_absolute_error
print("The Mean Absolute Error: \%.2f mm of rainfall" \% mean_absolute_error(y_test, predictions))
print("The Median Absolute Error: \%.2f mm of rainfall" \% median_absolute_error(y_test, predictions))

# The output from above
# The Mean Absolute Error: 3.21 mm of rainfall
# The Median Absolute Error: 2.25 mm of rainfall

\end{minted}

\section{Unified Modeling Language (UML)}
This section will show the UML for the project.

\begin{figure}[h]
\centering
\includegraphics[scale=0.2]{img/UML.png}
\caption{UML}
\label{UML}
\end{figure}


\chapter{System Evaluation}
\section{Robust}
It was critical from the beginning that this application be robust, as robustness is a basic requirement of any genuine weather application. This section will describe how the application went about achieving robustness.

\subsection{Data Reliability}
While the application's components load quickly and data is retrieved reliably and quickly, there might be a small lag when using components like the Searching City, which allow calls to third-party APIs to retrieve data from different websites. The loading of components becomes much faster and barely visible with thanks to the RESTful design because it does not depend on constant calls to the server.

\subsection{Error Checking}
The application has been thoroughly checked for bugs and there has been an implementation of error handling where necessary. However, the application is not bug-free, which is to be expected given that no sophisticated piece of software is completely bug-free. There are some known errors that occur in the application which were not fixed in time:

\begin{itemize}
    \item Pointer does not appear when area is chosen on the map. There is meant to be a red marker appearing for the new location chosen. 
\end{itemize}

\section{Objectives Review}
This section will describe the outputs of the application against the objectives stated in the Introduction Section and if they were achieved or not.

\subsection{User-friendly web application}

The application does seem to fit into a user-friendly environment as the features there are made more easily accessible to the user. The main features do not require the user to complete various tasks to get the desired outcome. 

\subsection{Fully Functional Weather Predictions}

The application does not meet this objective I feel as it is not accessible for the end user. 

\subsection{Consistent Forecasts}

The application does meet this objective as the open weather API provides the application with consistent weather forecasts, whenever the user enters their desired location. 

\subsection{Login and Register System}

The application does not meet this objective as the login and register system was not implemented due to time constraints. 

\subsection{About Page Providing Information on the Application}

The application does meet this objective as there is an About page on the application which provides information on the application.

\subsection{Visually Pleasing Design}

The application does meet this objective as it is visually pleasing design of components. The background image with all the other components built on top of it provides an aesthetically pleasing design.

\subsection{Similar Features to Competitor Applications}

The application does and does not meet this objective. It has some similar features to other weather providing applications, however, it does not have enough similar features to compete with competitor applications. 

\chapter{Conclusion}
\section{Learning Outcomes}
In this section I will discuss from a personal standpoint my learning outcomes from developing this project. I will list what I have learned from this project below.

\subsection{React}
I learned a lot about React during this project, I had used it previously for a short few weeks in another module but did not go into as much detail. I gained a lot of knowledge about various React libraries, including the one I used to style the application and especially the Leaflet library to get the map working which was tricky as there was not much support for it. React taught me many different things but the most important was to study the documentation as it will be your best guide throughout the developing phase.

\subsection{Django}
Django taught me a lot about the Back-end design. Using Django made controlling the Back-end functions easier than any other frameworks I have used. I know I have learned more about how a back-end should function correctly to support the front-end.

\subsection{Scope Creep}
Scope creep was very hard to manage throughout the project as a weather application there many different features the can be added to the application. One of the features I was planning on adding to the project was a live weather radar which would show different weather conditions for the next few hours over a location picked by the user, unfortunately time did not allow this. I combated scope creep by utilising these techniques:
\begin{itemize}
    \item Project Management - Using some sort of project management tool such as a Gantt chart or Kanban board to visualise your project helped immensely.
    
    \item Testing - Testing new features as they are made will help with time rather than leaving testing to the end. 
    
\end{itemize}

\section{What I Would Do Differently}
In this section I will describe the things that I would do differently if given the opportunity to restart the project. 

\subsection{Planning}
Looking back, there were several things I should have done better. The biggest improvement I would have made, in my opinion, would have been to concentrate more on the planning process and create a more comprehensive design of each role prior to implementation. I think I overlooked the difficulty of machine learning on how to predict weather conditions, spending too much time trying to get it working and even trying to find historical weather data sets was time consuming. I believe I spent a significant amount of time implementing features that were poorly designed, and that if I had taken the time to prepare for these functions ahead of time, I would have had a much easier time implementing them. Even while following the Gantt chart some features proved too time consuming to complete in the time given and ended up not being finished.

\subsection{Work Environment}
A change of work environment would definitely be done. Due to Covid-19 and college being closed having to work remotely greatly impact my productivity due to a loud environment with family. Slow internet caused many issues with time due to different packages and libraries being install. 

\section{In Closing}
Finally, this project taught me a lot about how to use my programming skills to build a fully functioning online weather app. It taught me how to create an intuitive user interface with a strong focus on user experience, as well as how to think critically, design clearly, read carefully, and document diligently. I believe I have learned a lot about programming, life, and myself during my four years at GMIT. I have learned to think like a developer and to put a strong focus on quality over quantity when it comes to creating good software. I'd like to express my gratitude to all of the lecturers at GMIT who have helped to nurture and teach me how to better my skills as a developer as well as a student of several different areas of computer science.
This marks the end of a long journey that has taught me a great deal.


\chapter{Appendices}
\href{https://github.com/MarkReillyGMIT/AppliedProject}{Link to Github Repository}

